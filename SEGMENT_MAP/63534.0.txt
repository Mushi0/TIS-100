@0
N:MOV 0 RIGHT
R:MOV UP ACC
  JEZ Z
  MOV ACC RIGHT
  JMP R
Z:MOV NIL DOWN
  MOV DOWN NIL
  MOV 0 RIGHT
K:MOV DOWN ACC
  JLZ N
  JEZ Z
  MOV ACC RIGHT
  JMP K

@1
N:MOV DOWN NIL
R:MOV LEFT ACC
  MOV ACC DOWN
  JEZ N
  JMP R

@2
MOV RIGHT DOWN

@3
N:MOV 0 LEFT
  MOV UP RIGHT
  MOV RIGHT NIL
  MOV NIL UP
  MOV DOWN ACC
  JEZ E
  MOV ACC UP
R:MOV DOWN ACC
  MOV ACC UP
  JEZ N
  JMP R
E:MOV -1 UP

@4
  MOV LEFT RIGHT
R:MOV RIGHT ACC
  JEZ N
  SUB RIGHT
  JGZ G
  MOV RIGHT DOWN
  MOV RIGHT RIGHT
  JMP R
G:MOV RIGHT ACC
  MOV RIGHT DOWN
  MOV ACC RIGHT
  JMP R
N:MOV 0 DOWN
  MOV RIGHT LEFT

@5
  MOV LEFT UP
  MOV UP ACC
R:MOV ACC LEFT
  JEZ N
  SWP
  MOV UP ACC
  MOV ACC LEFT
  MOV ACC LEFT
  SWP
  MOV ACC LEFT
  MOV LEFT ACC
  JMP R
N:MOV DOWN LEFT

@6
MOV UP RIGHT

@7
R:MOV UP ACC
  JEZ Z
  MOV ACC LEFT
  JMP R
Z:MOV LEFT DOWN
  MOV LEFT ACC
  JNZ C
  MOV 0 DOWN
C:MOV ACC LEFT
  MOV -1 RIGHT

@8
MOV LEFT UP